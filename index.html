<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>Weed It Out — Reclaim your clarity</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-deep: #050812;
      --accent: #3CCA60;
      --accent-glow: rgba(60, 202, 96, 0.3);
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --border: rgba(255, 255, 255, 0.08);
      --glass: rgba(255, 255, 255, 0.03);
    }

    * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, sans-serif;
      background-color: var(--bg-deep);
      color: var(--text-main);
      line-height: 1.4;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .mesh-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: -1;
      background:
        radial-gradient(circle at 10% 20%, rgba(60, 202, 96, 0.12) 0%, transparent 40%),
        radial-gradient(circle at 90% 80%, rgba(56, 189, 248, 0.08) 0%, transparent 40%);
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; width: 100%; }

    header {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: rgba(5, 8, 18, 0.8);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(60, 202, 96, 0.1);
      overflow: hidden;
    }

    footer {
      margin-top: auto;
      background: rgba(5, 8, 18, 0.8);
      backdrop-filter: blur(12px);
      border-top: 1px solid rgba(60, 202, 96, 0.1);
      padding: 40px 0;
      position: relative;
      overflow: hidden;
    }

    header::after, footer::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      animation: sweep 6s linear infinite;
      box-shadow: 0 0 15px var(--accent);
    }
    header::after { bottom: 0; left: -100%; }
    footer::before { top: 0; left: 100%; animation: sweepReverse 6s linear infinite; }

    @keyframes sweep { 0% { left: -100%; } 100% { left: 100%; } }
    @keyframes sweepReverse { 0% { left: 100%; } 100% { left: -100%; } }

    nav { padding: 20px 0; display: flex; justify-content: space-between; align-items: center; }
    .logo-group { display: flex; align-items: center; gap: 14px; }
    .logo-img { width: 42px; height: auto; }
    .logo-text { font-weight: 800; font-size: 20px; letter-spacing: -0.5px; }

    .status-pill {
      background: rgba(60, 202, 96, 0.05);
      border: 1px solid var(--accent);
      padding: 6px 14px;
      border-radius: 100px;
      font-size: 12px;
      color: var(--accent);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dot {
      width: 6px;
      height: 6px;
      background: var(--accent);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--accent);
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }

    .hero {
      padding: 80px 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 60px;
      flex: 1;
    }
    .hero-content { flex: 1; position: relative; padding-top: 106px; }

    .h1 {
      font-weight: 900;
      margin: 0;
      display: flex;
      flex-direction: column;
      line-height: 1.05;
      position: relative;
      z-index: 2;
    }
    .h1 .master-text {
      font-size: clamp(32px, 4.5vw, 66px);
      letter-spacing: -1px;
      color: #fff;
      padding-bottom: 4px;
    }
    .h1 .clarity-word {
      font-size: clamp(70px, 12vw, 200px);
      background: linear-gradient(180deg, #3CCA60 0%, #2ba34d 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -2px;
      filter: drop-shadow(0 0 25px rgba(60, 202, 96, 0.3));
    }

    .hero-sub {
      font-size: 20px;
      color: var(--text-muted);
      max-width: 520px;
      margin-top: 45px;
      margin-bottom: 18px;
      position: relative;
      z-index: 1;
    }

    .btn-group {
      display: flex;
      gap: 16px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 14px;
    }
    .btn {
      padding: 18px 32px;
      border-radius: 16px;
      font-weight: 700;
      text-decoration: none;
      transition: all 0.2s ease;
      font-size: 16px;
      border: none;
      font-family: inherit;
      cursor: pointer;
      display: inline-block;
    }
    .btn-primary {
      background: var(--accent);
      color: #050812;
      box-shadow: 0 20px 40px var(--accent-glow);
    }
    .btn-secondary {
      background: var(--glass);
      color: white;
      border: 1px solid var(--border);
      backdrop-filter: blur(10px);
    }

    /* SOCIALS (HERO) */
    .hero-socials {
      margin-top: 4px;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .social-label {
      color: rgba(255,255,255,0.62);
      font-size: 16px;
      font-weight: 800;
      letter-spacing: 0.10em;
      text-transform: uppercase;
      margin-right: 4px;
    }
    .social-icon {
      width: 60px;
      height: 60px;
      border-radius: 999px;
      border: 1px solid rgba(60, 202, 96, 0.38);
      background: rgba(255,255,255,0.02);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      transition: transform 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
    }
    .social-icon:hover {
      transform: translateY(-1px);
      border-color: rgba(60, 202, 96, 0.72);
      box-shadow: 0 0 22px rgba(60, 202, 96, 0.18);
    }

    /* Brand SVGs (fill-based), normalized */
    .social-icon svg {
      width: 34px;
      height: 34px;
      display: block;
      transform: translateY(0.5px);
    }

    /* Force all shapes inside the SVG to Weed It Out green */
    .social-icon svg path,
    .social-icon svg rect,
    .social-icon svg circle,
    .social-icon svg polygon {
      fill: var(--accent) !important;
      stroke: none !important;
    }

    /* Optical weight normalization */
    .social-icon--ig svg { transform: translateY(0.5px) scale(0.92); }
    .social-icon--tt svg { transform: translateY(0.5px) scale(1.02); }

    .hero-image { flex: 0 0 380px; }
    .phone-frame {
      border-radius: 48px;
      overflow: hidden;
      border: 8px solid #1e293b;
      box-shadow: 0 60px 120px -20px rgba(0,0,0,0.8);
    }
    .phone-frame img { width: 100%; display: block; }

    @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
    .floating { animation: float 6s ease-in-out infinite; }

    .features-section { padding: 40px 0 90px; }
    .features-header { max-width: 720px; margin: 0 auto 28px; text-align: center; position: relative; }
    .features-title { font-size: 40px; font-weight: 800; letter-spacing: -0.6px; margin: 0 0 10px; }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 18px;
      position: relative;
    }

    .feature-card {
      position: relative;
      z-index: 1;
      border-radius: 20px;
      border: 1px solid rgba(60, 202, 96, 0.45);
      background: rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(10px);
      padding: 22px 22px 20px;
      box-shadow: 0 24px 60px rgba(0,0,0,0.35);
      transition: transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
      min-height: 160px;
      overflow: hidden;
      isolation: isolate;
      transform: translateZ(0);
    }

    .feature-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(60, 202, 96, 0.10), transparent 55%);
      opacity: 0.35;
      pointer-events: none;
    }

    .feature-card::before {
      content: "";
      position: absolute;
      inset: -60px;
      z-index: -1;
      background: radial-gradient(circle at 30% 35%, rgba(60, 202, 96, 0.22), transparent 62%);
      filter: blur(18px);
      opacity: 0;
      transition: opacity 0.22s ease;
      pointer-events: none;
    }
    .feature-card:hover::before { opacity: 1; }

    .feature-card:hover {
      transform: translateY(-4px);
      border-color: rgba(60, 202, 96, 0.75);
      box-shadow: 0 34px 80px rgba(0,0,0,0.45);
    }

    .feature-kicker {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgba(60, 202, 96, 0.95);
      margin-bottom: 12px;
    }

    .feature-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 14px rgba(60, 202, 96, 0.55);
      flex: 0 0 auto;
    }

    .feature-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 8px;
    }

    .feature-title {
      margin: 0;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: -0.4px;
      line-height: 1.1;
    }

    .feature-icon {
      width: 46px;
      height: 46px;
      border-radius: 999px;
      border: 2px solid rgba(60, 202, 96, 0.60);
      background: rgba(60, 202, 96, 0.06);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 18px rgba(60, 202, 96, 0.18);
      flex: 0 0 auto;
    }

    .feature-icon svg {
      width: 22px;
      height: 22px;
      stroke: var(--accent);
      fill: none;
      stroke-width: 2.2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .feature-desc {
      margin: 0;
      color: var(--text-muted);
      font-size: 14px;
      line-height: 1.45;
      max-width: 34ch;
    }

    /* FOOTER LAYOUT */
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;
      width: 100%;
    }

    .footer-left {
      display: flex;
      flex-direction: column;
      gap: 14px;
      min-width: 0;
    }

    .footer-links {
      margin-left: auto;
      display: flex;
      gap: 20px;
      align-items: center;
      justify-content: flex-end;
      white-space: nowrap;
    }

    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-weight: 600;
      font-size: 13px;
    }
    .footer-links a:hover { text-decoration: underline; }

    .footer-disclaimer {
      color: var(--text-muted);
      font-size: 12px;
      line-height: 1.5;
      max-width: 110ch;
    }

    /* MODAL (POPUP) STYLES */
    .modal-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(5, 8, 18, 0.85); backdrop-filter: blur(12px);
      display: none; align-items: center; justify-content: center; z-index: 2000;
    }
    .modal-card {
      background: #0b1220; border: 1px solid var(--accent); border-radius: 24px;
      padding: 40px; width: 90%; max-width: 400px; text-align: center;
      box-shadow: 0 0 50px var(--accent-glow); position: relative;
    }
    .modal-card h2 { margin-top: 0; color: #fff; }
    .modal-card p { color: var(--text-muted); margin-bottom: 24px; }
    .modal-input {
      width: 100%; padding: 16px; border-radius: 12px; border: 1px solid var(--border);
      background: var(--glass); color: white; font-size: 16px; margin-bottom: 20px; outline: none;
    }
    .modal-input:focus { border-color: var(--accent); }
    .close-btn { position: absolute; top: 15px; right: 20px; color: var(--text-muted); cursor: pointer; font-size: 24px; }

    #successMessage { display: none; padding: 20px 0; }
    #successMessage h3 { color: var(--accent); margin-bottom: 8px; }

    @media (max-width: 1100px) {
      .hero { flex-direction: column; text-align: center; align-items: center; }
      .hero-sub { margin: 45px auto 18px; }
      .btn-group { justify-content: center; }
      .hero-socials { justify-content: center; }
      .hero-image { flex: 0 0 auto; max-width: 320px; margin-top: 40px; }
      .feature-head { justify-content: center; }

      .footer-content { flex-direction: column; align-items: flex-start; }
      .footer-links { margin-left: 0; justify-content: flex-start; }
    }

    @media (max-width: 900px) {
      .features-grid { grid-template-columns: 1fr; }
      .features-section { padding: 24px 0 70px; }
      .feature-card { min-height: 0; }
    }
  </style>
</head>
<body>

  <div class="mesh-bg"></div>

  <header>
    <div class="container">
      <nav>
        <div class="logo-group">
          <img src="assets/new_light_logo.png" alt="Weed It Out" class="logo-img">
          <div class="logo-text">Weed It Out</div>
        </div>
        <div class="status-pill"><div class="dot"></div> iOS</div>
      </nav>
    </div>
  </header>

  <div class="container">
    <main class="hero">
      <div class="hero-content">
        <h1 class="h1">
          <span class="master-text">Master your</span>
          <span class="clarity-word">Clarity</span>
        </h1>

        <p class="hero-sub">
          A clean, gamified experience designed to help you track urges, visualize avoided costs, and reclaim your time back.
        </p>

        <div class="btn-group">
          <button onclick="openModal()" class="btn btn-primary">Join the Waitlist</button>
          <a href="#features" class="btn btn-secondary">Explore Features</a>
        </div>

        <!-- SOCIALS (RIGHT BELOW THE BUTTONS) -->
        <div class="hero-socials" aria-label="Social media links">
          <div class="social-label">Follow</div>

          <a class="social-icon social-icon--ig"
             href="https://www.instagram.com/weeditout.app/"
             target="_blank"
             rel="noopener noreferrer"
             aria-label="Instagram">
            <!-- Instagram SVG (your code) -->
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 512" aria-hidden="true">
              <path fill-rule="nonzero" d="M170.663 256.157c-.083-47.121 38.055-85.4 85.167-85.482 47.121-.092 85.407 38.029 85.499 85.159.091 47.13-38.047 85.4-85.176 85.492-47.112.09-85.399-38.039-85.49-85.169zm-46.108.092c.141 72.602 59.106 131.327 131.69 131.185 72.592-.14 131.35-59.089 131.209-131.691-.141-72.577-59.114-131.336-131.715-131.194-72.585.141-131.325 59.114-131.184 131.7zm237.104-137.092c.033 16.954 13.817 30.682 30.772 30.649 16.961-.034 30.689-13.811 30.664-30.765-.033-16.954-13.818-30.69-30.78-30.656-16.962.033-30.689 13.818-30.656 30.772zm-208.696 345.4c-24.958-1.086-38.511-5.234-47.543-8.709-11.961-4.628-20.496-10.177-29.479-19.093-8.966-8.951-14.532-17.461-19.202-29.397-3.508-9.033-7.73-22.569-8.9-47.527-1.269-26.983-1.559-35.078-1.683-103.433-.133-68.338.116-76.434 1.294-103.441 1.069-24.941 5.242-38.512 8.709-47.536 4.628-11.977 10.161-20.496 19.094-29.478 8.949-8.983 17.459-14.532 29.403-19.202 9.025-3.526 22.561-7.715 47.511-8.9 26.998-1.278 35.085-1.551 103.423-1.684 68.353-.133 76.448.108 103.456 1.294 24.94 1.086 38.51 5.217 47.527 8.709 11.968 4.628 20.503 10.145 29.478 19.094 8.974 8.95 14.54 17.443 19.21 29.413 3.524 8.999 7.714 22.552 8.892 47.494 1.285 26.998 1.576 35.094 1.7 103.432.132 68.355-.117 76.451-1.302 103.442-1.087 24.957-5.226 38.52-8.709 47.56-4.629 11.953-10.161 20.488-19.103 29.471-8.941 8.949-17.451 14.531-29.403 19.201-9.009 3.517-22.561 7.714-47.494 8.9-26.998 1.269-35.086 1.56-103.448 1.684-68.338.133-76.424-.124-103.431-1.294zM149.977 1.773c-27.239 1.286-45.843 5.648-62.101 12.019-16.829 6.561-31.095 15.353-45.286 29.603C28.381 57.653 19.655 71.944 13.144 88.79c-6.303 16.299-10.575 34.912-11.778 62.168C.172 178.264-.102 186.973.031 256.489c.133 69.508.439 78.234 1.741 105.548 1.302 27.231 5.649 45.827 12.019 62.092 6.569 16.83 15.353 31.089 29.611 45.289 14.25 14.2 28.55 22.918 45.404 29.438 16.282 6.294 34.902 10.583 62.15 11.777 27.305 1.203 36.022 1.468 105.521 1.336 69.532-.133 78.25-.44 105.555-1.734 27.239-1.302 45.826-5.664 62.1-12.019 16.829-6.585 31.095-15.353 45.288-29.611 14.191-14.251 22.917-28.55 29.428-45.404 6.304-16.282 10.592-34.904 11.777-62.134 1.195-27.323 1.478-36.049 1.344-105.557-.133-69.516-.447-78.225-1.741-105.522-1.294-27.256-5.657-45.844-12.019-62.118-6.577-16.829-15.352-31.08-29.602-45.288-14.25-14.192-28.55-22.935-45.404-29.429-16.29-6.304-34.903-10.6-62.15-11.778C333.747.164 325.03-.101 255.506.031c-69.507.133-78.224.431-105.529 1.742z"/>
            </svg>
          </a>

          <a class="social-icon social-icon--tt"
             href="https://www.tiktok.com/@weeditout.app"
             target="_blank"
             rel="noopener noreferrer"
             aria-label="TikTok">
            <!-- TikTok SVG (your code) -->
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 455 512.098" aria-hidden="true">
              <path fill="#231F20" fill-rule="nonzero" d="M321.331.011h-81.882v347.887c0 45.59-32.751 74.918-72.582 74.918-39.832 0-75.238-29.327-75.238-74.918 0-52.673 41.165-80.485 96.044-74.727v-88.153c-7.966-1.333-15.932-1.77-22.576-1.77C75.249 183.248 0 255.393 0 344.794c0 94.722 74.353 167.304 165.534 167.304 80.112 0 165.097-58.868 165.097-169.96V161.109c35.406 35.406 78.341 46.476 124.369 46.476V126.14C398.35 122.151 335.494 84.975 321.331 0v.011z"/>
            </svg>
          </a>
        </div>
      </div>

      <div class="hero-image floating">
        <div class="phone-frame">
          <img src="assets/dashboard_example.png" alt="Weed It Out Dashboard">
        </div>
      </div>
    </main>
  </div>

  <div class="container">
    <section id="features" class="features-section">
      <div class="features-header">
        <h1 class="features-title">Features</h1>
      </div>

      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-kicker"><span class="feature-dot"></span> Accurate Data</div>
          <div class="feature-head">
            <h3 class="feature-title">Urges & Sessions</h3>
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M20.8 4.6c-1.6-1.6-4.2-1.6-5.8 0L12 7.6 9 4.6c-1.6-1.6-4.2-1.6-5.8 0s-1.6 4.2 0 5.8L12 21l8.8-10.6c1.6-1.6 1.6-4.2 0-5.8z"/>
              </svg>
            </div>
          </div>
          <p class="feature-desc">Log urges and usage with a clean, fast flow that doesn’t feel like “tracking.”</p>
        </div>

        <div class="feature-card">
          <div class="feature-kicker"><span class="feature-dot"></span> Visualized Savings</div>
          <div class="feature-head">
            <h3 class="feature-title">Avoided Costs</h3>
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M12 2v20"/>
                <path d="M17 6.5c0-1.9-2.2-3.5-5-3.5s-5 1.6-5 3.5S9.2 10 12 10s5 1.6 5 3.5S14.8 17 12 17s-5-1.6-5-3.5"/>
              </svg>
            </div>
          </div>
          <p class="feature-desc">See money and grams you didn’t burn—simple, motivating, and visual.</p>
        </div>

        <div class="feature-card">
          <div class="feature-kicker"><span class="feature-dot"></span> Restored Productivity</div>
          <div class="feature-head">
            <h3 class="feature-title">Reclaimed Time</h3>
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="9"></circle>
                <path d="M12 7v6l4 2"></path>
              </svg>
            </div>
          </div>
          <p class="feature-desc">Track clarity recovered and build momentum with streak-like progress.</p>
        </div>
      </div>
    </section>
  </div>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-left">
          <div class="logo-text">Weed It Out</div>
          <div class="footer-disclaimer">
            <strong>Disclaimer:</strong> For users 21+. Habit tracking only — not medical or legal advice.
            Metrics may be estimates. You are responsible for complying with local laws and your own decisions.
          </div>
        </div>

        <div class="footer-links">
          <a href="./privacy.html">Privacy</a>
          <a href="./terms.html">Terms</a>
          <a href="./support.html">Support</a>
        </div>
      </div>
    </div>
  </footer>

  <div class="modal-overlay" id="emailModal">
    <div class="modal-card">
      <span class="close-btn" onclick="closeModal()">&times;</span>

      <div id="modalForm">
        <h2>Get Early Access</h2>
        <p>Join the waitlist to be the first to experience the full version of Weed It Out.</p>
        <input type="email" id="emailInput" class="modal-input" placeholder="name@example.com">
        <button onclick="submitEmail()" class="btn btn-primary" style="width: 100%">Join Now</button>
      </div>

      <div id="successMessage">
        <h3>You're on the list!</h3>
        <p>We'll notify you upon Launch</p>
        <button onclick="closeModal()" class="btn btn-secondary" style="width: 100%; margin-top: 10px;">Close</button>
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('emailModal');
    const modalForm = document.getElementById('modalForm');
    const successMessage = document.getElementById('successMessage');

    const FORMSPREE_ENDPOINT = "https://formspree.io/f/xjggooor";

    function openModal() {
      modal.style.display = 'flex';
      modalForm.style.display = 'block';
      successMessage.style.display = 'none';
    }

    function closeModal() {
      modal.style.display = 'none';
    }

    async function submitEmail() {
      const emailEl = document.getElementById('emailInput');
      const email = (emailEl.value || '').trim();

      if (!email || !email.includes('@')) {
        alert("Please enter a valid email address.");
        return;
      }

      const btn = modalForm.querySelector('button');
      const prevText = btn ? btn.textContent : null;
      if (btn) {
        btn.disabled = true;
        btn.textContent = "Joining...";
      }

      try {
        const res = await fetch(FORMSPREE_ENDPOINT, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json"
          },
          body: JSON.stringify({
            email,
            source: "weeditout.app",
            signup_at: new Date().toISOString()
          })
        });

        if (!res.ok) throw new Error("Formspree submission failed");

        modalForm.style.display = 'none';
        successMessage.style.display = 'block';
        emailEl.value = "";
      } catch (err) {
        alert("Couldn’t join right now. Please try again in a moment.");
      } finally {
        if (btn) {
          btn.disabled = false;
          btn.textContent = prevText || "Join Now";
        }
      }
    }

    window.onclick = function(event) {
      if (event.target === modal) closeModal();
    }
  </script>

</body>
</html>
